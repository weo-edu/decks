/* Welcome to Compass.
 * In this file you should write your main styles. (or centralize your imports)
 * Import this file using the following HTML or equivalent:
 * <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" /> */

@import "compass/reset";
@import "compass/css3";
@import url("http://fonts.googleapis.com/css?family=Fresca");
@import "mixins";
//@import "animation";


//	DECKS GRID
////////////////////////////

$size: 150px;

@mixin deckCards{
	height: $size;
	width: $size;
	@include transition(all .4s ease-out);
	@include border-radius(8px);
	z-index: 0;
}

#mute-button {
	position: absolute;
	top: 10px;
	right: 10px;
	height: 30px;
	cursor: pointer;
	text-decoration: line-through;
	&.muted {
		text-decoration: none;
	}
}

#deck-grid
{	
	// padding: 20px;
	// @include block;
	@include transition(height .7s ease-out);
	// overflow: hidden;
	position: relative;
	.deck-container
	{
		@include perspective(800px);
		@include transform-style(preserve-3d);
		@include transform(rotateY(120deg) scale(0.001));
		cursor: pointer;
		position: absolute;
	}
}

#decks-title
{
	text-align: center;
	font-size: 40px;
	margin: 30px 0;
	color: #999;
	// @include text-shadow(-1px -1px 0 #000);
}


.card-container, .deck-container{
	@include deckCards;
}

.deck-container, .card-container
{
	.deck, .card
	{
		height: 100%;
		width: 100%;
		@include perspective(800px);
	}
		
	.front, .back{
		@include transition(all .25s ease-in-out);
		@include transform-style(preserve-3d);
		@include backface-visibility(hidden);
		@include box-shadow(inset 1px 1px 1px transparentize(#FFF, 0.4), 0 0 7px #333);
		@include background-size(100%);
		background-repeat: no-repeat;
		background-position: center;
	}

	.front{
		@include transform(rotateX(0deg) rotateY(0deg));
		position: absolute;
		width: 100%;
		height: 100%;
		@include border-radius(8px);
	}
	.back
	{
		position: absolute;
		left: 0;
		$padding: 10px;
		padding: $padding;
		width: $size - $padding * 2;
		height: $size - $padding * 2;
		@include border-radius(8px);
		font: 16px/1.2em sans-serif;
		color: #FFF;
		background: transparentize(#000, 0.7);
		background: url("/app!common/textures/low_contrast_linen.png");
		bottom: 0;
		@include transform(rotateY(180deg));
		.play{
			@include background(linear-gradient(#FFF, #DDD));
			cursor: pointer;
			@include border-radius(5px);
			position: absolute;
			bottom: 10px;
			width: 100px;
			color: #333;
			padding: 5px;
			display: block;
			text-align: center;
			&:hover
			{
				@include background(linear-gradient(#DDD, #FFF));
			}
		}
	}

	&.view-more {
		.front {
			@include transform(rotateY(-180deg));
		}
		.back {
			z-index: 99;
			@include transform(rotateY(0deg));
		}
	}
	&.close {
		@include transition(all .8s ease-out);
		.back, .front {
			@include transition(all .5s ease-out);
		}
	}
}


//	PLAY
////////////////////////////

$playHeight: 400px;
$playWidth: 555px;

.stage
{
	@include perspective(1000px);
	@include transform-style(preserve-3d);
	pointer-events: none;
	// div {
	// 	@include transition(all 1s ease-in-out !important);
	// }
}

// .card-container.current.play {
// 	@include transition(all .4s ease-in-out);
// 	height: $playHeight;
// 	width: $playWidth;
// 	.back {
// 		@include transition(all .4s ease-in-out);
// 		$padding: 20px;
// 		padding: $padding;
// 		height: $playHeight - $padding * 2;
// 		width: $playWidth - $padding * 2;
// 	}
// }

#playground {
	position: relative;
	height: 400px;
	margin-top: 30px;
	background: url("/app!common/textures/45degreee_fabric.png");
	@include border-radius(8px);
	@include box-shadow(0 0 10px #333);
	padding: 20px;
	&.hide {
		display: none;
	}

	.card-container {
		position: absolute;
		bottom: 20px;
		left: 20px;
		.front {
			@include transform(rotateY(-180deg));
		}
		.back {
			@include transform(rotateY(0deg));
		}
	}
	h3 {
		font-size: 50px;
		line-height: 1.5em;
		color: #999;
		@include text-shadow(-1px -1px 0 #333);
		text-align: center;
	}
	#play-area {
		float: left;
		width: 555px;
		height: 400px;
		.question {
			color: #999;
			@include text-shadow(-1px -1px 0 #333);
			font-size: 60px;
			line-height: 1.2em;
			text-align: center;
		}
	}

	
	// @include transition(all 1.4s ease-in-out);
}

#play-meta {
	float: right;
	width: 320px;
	height: 360px;
	padding: 20px;
	background: #FFF;
	@include border-radius(8px);
	@include box-shadow(0 0 10px #333);
}

#bar {
	float: left;
	width: 50px;
	height: 100%;
	background: #CCC;
	position: relative;
	.fill {
		height: 0;
		width: 100%;
		position: absolute;
		bottom: 0;
		background: #87CEEB;
	}
}




#deck-dock {
	margin-top: 20px;
	height: $size;
	width: 100%;
	position: relative;

	> div{
		@include perspective(1000px);
		@include transform-style(preserve-3d);
		position: absolute;
		width: $size;
		height: $size;
		@include transition(transform .3s ease-in-out);
		z-index: 1;
		> div {
			position: absolute;
			cursor: pointer;
			width: $size;
			height: $size;
			@include transition(all .3s ease-in-out);
			&.view-more {

			}
		}
	}

	#answered {
		z-index: 999 !important;
		.deck-container{
			z-index: 999;
		}
	}
}

.card-container {

	$dur: .5s;
	@include transition-property(transform, height, width);
	@include transition-duration($dur);
	@include transition-timing-function(ease-in-out);

	.front{
		@include background-size(100%);
		background-repeat: no-repeat;
	}
	.front, .back {
		@include transition-property(transform, height, width);
		@include transition-duration($dur);
		@include transition-timing-function(ease-in-out);
		.solution {
			width: 100px;
		}
	}
	.back-content
	{
		display: none;
	}
	&.current
	{
		// background: none;
		// height: $playHeight;
		// width: $playWidth;
		.front {
			// height: $size;
			// width: $size;
			@include transform(rotateY(-180deg));
		}
		.back {
			// height: $size;
			// width: $size;
			z-index: 99;
			@include transform(rotateY(0deg));
		}

	}



	// &.wrong, &.correct {
	// 	@include box-shadow(inset 1px 1px 1px transparentize(#FFF, 0.4), 0 0 7px #333);
	// 	.card {
	// 		@include opacity(0.4);
	// 		@include box-shadow(0 0 0);
	// 	}
	// }
	
	&.wrong {
		background: #FF3366;
	}

	&.correct {
		background: #A2E67E;
	}
}

	

//	DECKS CREATOR
////////////////////////////
$spin:100000deg;
$time:(100000s/70);


@-webkit-keyframes infinite-spinning {
		from {
			-webkit-transform: rotate3d(0,1,0,0deg);
		}
		to {
			-webkit-transform: rotate3d(0,1,0,$spin);
		}
	}

$ipadheight:672px;
$ipadwidth:1024px;
$imgheight:592px;
$imgwidth:637px;
$height:36px;


.input-area{
	position: absolute;
	height: $imgheight;
	width: $imgwidth;
	background-color: transparent;
	background-image: url("/create-form.png");
	float: left;
}
#card-inner{
	#rule-container{
	margin: 0 auto;
	overflow-x:hidden;
	overflow-y: auto;
	height:175px;
	margin-top:5px;
	}
	#rules{
		width:100%;
	}
}
.field-wrapper{
		margin: 19% 0px;
		div, input{
			font-size:18px;
			//line-height:36px;
		}
		input, textarea, option, select{
			text-indent:10px;
			font-size:18px;
			background-color: transparentize(#000, 0.75);
			@include box-shadow(inset 0 0 15px #444);
			font-family:'arial';
			resize: none;
		}
		.field{
			width:370px;
			height:$height;
			margin:15px auto;
			.upload{
				cursor: pointer;
				height: $height;
				width: auto;
				border: 0px;
				@include border-radius(5px);
				text-align: center;
				line-height: 35px;
				padding: 0px 9px;
				@include box-shadow(0 0px 15px 3px #000);
				background-color: transparentize(#000, 0.75);
			}
			.error{
					@include box-shadow(inset 0 0 15px red);
			}
		}
		.text{
			font-family:'WisdomScript';
			width:39%;
			float:left;
			line-height:$height;
			text-align:right;
		}
		#description-field{
			height:90px;
			textarea{
				padding-top:5px;
				height:90px;
			}
		}
	}
.instant_update{
	height:$height;
	width:60%;
	float:right;
	padding:0px;
	border:none;
	&:active{
		border:none;
	}
}
.ipad{
	$size:320px;
	$width:$size/1.45;
	$depth:$width/3;
	$offset:$depth/2;
	$color:lighten(#599adf, 35);

	position:relative;
	overflow:hidden;
	@include ipad();
	background-position:bottom;
	background-color:transparent;
	background-image:url('/create-bg.jpg');
	.title{
		background-color:#3FA9F5;
		height:75px;
		color:white;
		font-size:50px;
		line-height:75px;
		padding:0px 20px;
		font-family:'MayonaiseCondRegular';
	}
	#look-input{
		left:-800px;
	}	
	.button{
		cursor:pointer;
		height: 30px;
		margin: 0 auto;
		width: 30px;
		background-size: 100%;
		position: absolute;
		bottom: 93px;
	}
	#more-inputs{
		right:95px;
		background-image:url('/right_arrow.gif');
	}
	#prev-inputs{
		right:none;
		left:95px;
		background-image:url('/left_arrow.gif');
	}
	.deck-position{
		float:left;
		width:$ipadwidth - $imgwidth;
		height: 100%;
		right: 0px;
		position: absolute;
		.deck-shadow{
			font-family:'KatanaRegular';
			top: 95px;
			width: $width;
			margin: 0 auto;
			position: relative;
			@include perspective(700px);
		}
		.drop-shadow{
			margin: 5px auto;
			height: $depth/1.5;
			width: $width/1.8;
			@include border-radius(30% 45% 25% 30%);
			background-color: transparentize(#000, 0.7); 
			@include box-shadow(0 0px 20px 12px transparentize(#000, 0.70));
			@include transform(rotateX(90deg) translate3d(0px,0px,0px));
			position: relative;
			bottom: -360px;
		}
		.spin-button{
			top: -50px;
			position: relative;
			padding: 5px;
			font-family: 'WisdomScript';
			text-align: center;
			width: 28%;
			margin: 0 auto;
			font-size: 25px;
			background-color: rgba(0, 0, 0, 0.63);
			box-shadow: 0 0px 10px 9px rgba(0, 0, 0, 0.63);
			cursor: pointer;
			color: tomato;
		}
	}
	section#viewport{
		//-webkit-animation:infinite-spinning $time linear;
		position:relative;
		top:25%;
		margin:0 auto;
		width:$width;
		height:$size;
		@include perspective(none);
		@include transform-style(preserve-3d);
	}
	article#box{
		width:$width;
		height:$size;
	 @include transform-style(preserve-3d);
	 position:absolute;
	}
	.transition{
		@include transition(all .8s ease-in-out);
	}
	#box section{
		cursor:move;
		text-align:center;
		@include transform-style(flat);
		@include backface-visibility(hidden);
		position:absolute;
		background-color:transparentize(darken(#3276c1,2), 0.5);
		outline:2px solid lighten(#599adf, 10);
		// @include box-shadow(inset 0px 0px 30px #3FA9F5);
		h1, h2, h3{
			font-family:'MayonaiseCondRegular';
			font-size:35px;
			padding:$offset/2;
			z-index:1;
			//color:lighten($color,20);
		}
		p{
			color:darken($color, 82);
			font-size:20px;
			line-height:25px;
		}
	}
	#front, #back{
	 width:$width;
	 height: $size;
	 @include transform(translate3d(0px, 0px, $offset));
	 img{
	 	left:0px;
	 	top: 0px;
		z-index: 0;
		position: absolute;
		height: $size;
		width: $width;
	 }
	 h1,h2,h3,p{
		position:relative;
	}
	.deck-title{
		padding:10px;
		margin:10px auto;
	}
	}
	#back{
		@include transform(rotateY(180deg) translate3d(0px, 0px, $offset));
	}
	#top, #bottom{
	 width:$width;
	 height: $depth;
	 @include transform(rotateX(90deg) translate3d(0px, 0px, $offset));
	}
	#bottom{
		@include transform(rotateX(-90deg) translate3d(0px, 0px, $size - $offset));
	}
	#left, #right{
	 width: $depth;
	 height: $size;
	 @include transform(rotateY(-90deg) translate3d(0px, 0px, $offset));
	}
	#right{
		@include transform(rotateY(90deg) translate3d(0px, 0px, $width - $offset));
	}
}


//	CARD CREATOR
////////////////////////////


$cardsize:380px;
$cardmargin:15px;


#card-title{
	cursor:pointer;
	text-align: center;
	font-size: 40px;
	margin: 30px 0;
	color: #999;
	@include text-shadow(1px 1px #333)
}

.wrapper{
	overflow:hidden;
	position:relative;
	margin:0 auto;
	width:$cardsize*2 + $cardmargin*4;
	height:$cardsize + $cardmargin*2;
}

.selectable{
	position:absolute;
	width:100%;
	height:100%;
}

.step-nav-bar{
	$height:30px;
	$width:326px;
	width:$width * 3;
	position:relative;
	height:$height;
	text-align:center;
	@include box-shadow(0 0 10px #333);
	@include border-radius(8px);
	vertical-align:baseline;
	.active{
		background-color:#aaa;
		color:white;
		@include text-shadow(-1px -1px 0 #000);
	}
	.step-nav{
		@include transition(all .5s ease-in-out);
		cursor:pointer;
		height:$height;
		line-height:$height;
		width:$width;
		float:left;
	}
	#step-1{
		border-radius:8px 0px 0px 8px;
	}
	#step-3{
		border-radius:0px 8px 8px 0px;
	}
}

.create{
	@include transition(all .5s ease-in-out);
	left:1000px;
	position:absolute;
	width:$cardsize*2 + $cardmargin*4;
	height:$cardsize + $cardmargin*2;
	margin:0 auto;
	&.active{
		left:0px;
	}
}

.choose-deck
{
	@include background(linear-gradient(#ccc, #DDD));
	cursor: pointer;
	@include border-radius(5px);
	// border: 8px solid #FF3366;
	border:2px solid transparent;
	position: relative;
	margin: auto;
	width: 100px;
	color: #333;
	padding: 5px;
	display: block;
	text-align: center;
	&:hover
	{
		@include background(linear-gradient(#DDD, #ccc));
	}
	&:active
	{
		@include background(linear-gradient(#DDD, #ccc));
		border:2px inset;
	}
}

.display
{
	width: $cardsize;
	height: $cardsize;
	margin: $cardmargin;
	z-index:0;
	float:left;
	overflow:auto;
	background: transparentize(#FFF, 0.2);
	//@include transition(all .5s ease-in-out);
	@include border-radius(8px);
	@include box-shadow(0 7px 10px rgba(0,0,0,0.4));
	position: relative;
	h2
	{
		@include transition(all .5s ease-in-out);
		font-size:25px;
		margin-top:15px;
		text-align:center;
		text-decoration:underline;
		padding: 5px;
		background-color:#333;
		color: white;
		text-shadow: 1px 1px #AAA;
	}
	.card-section
	{
		text-align:center;
		margin:20px;
	}
}
#flippable{
	@include border-radius(0);
	@include box-shadow(none);
	overflow:visible;
	background:transparent;
	margin:0px;
}
.deck-holder{
	background:none;
	left: 0px;
	box-shadow: none;
	overflow: visible;
}
.deck-preview{
	$size:90px;
	width:100%;
	@include transform-style(preserve-3d);
	@include perspective(800px);
	.deck-container{
		@include transition(all .5s ease-in-out);
		position: absolute;
		width:$size;
		height:$size;
		.deck{
			@include transition(all .5s ease-in-out);
			.front{
				@include transition(all .5s ease-in-out);
				background-size:100% !important;
			}
			.back{
				@include transition(all .5s ease-in-out);
				@include perspective(800);
				height:$cardsize;
				width:$cardsize;
				padding:0px;
			}
		}
	}
	.selected{
		top:0px;
		left:0px;
		height:$cardsize;
		width:$cardsize;
	}
	.choose-deck{
			@include background(linear-gradient(#FFF, #DDD));
			cursor: pointer;
			@include border-radius(5px);
			// border: 8px solid #FF3366;
			position: absolute;
			bottom: 10px;
			width: 100px;
			color: #333;
			padding: 5px;
			display: block;
			text-align: center;
			&:hover
			{
				@include background(linear-gradient(#DDD, #FFF));
			}
		}
	.chosen{
		left:-3px;
		top:-3px;
		border:3px outset yellow;
	}
}

#colorpicker{
	width:195px;
	margin: 10px auto;
}

#template-preview{
	overflow:visible;
}

#flippable{
	@include perspective(700px);
	@include perspective-origin(50% 50%);	
	#box{
		overflow:visible;
		@include transform-style(preserve-3d);
		section {
			@include transform-style(flat);
			@include backface-visibility(hidden);
		}
		.side {
			height:$cardsize;
			width:$cardsize;
			position:absolute;
			@include transition(all .5s ease-in-out);
		}
		.top-side{
			width:$cardsize;
			height:4px;
		}
		.side-side{
			width:4px;
			height:$cardsize;
		}
		#front{
			@include transform(translate3d(0px,0px,2px));
		}
		#back {
			@include transform(rotateY(180deg) translate3d(0px,0px,2px));	
		}
		#top {
			@include transform(rotateX(90deg) translate3d(0px, 0px, 2px));
		}
		#bottom{
			@include transform(rotateX(-90deg) translate3d(0px, 0px, $cardsize - 2));
		}
		#left{
			@include transform(rotateY(-90deg) translate3d(0px, 0px, 2px));
		}
		#right{
			@include transform(rotateY(90deg) translate3d(0px, 0px, $cardsize - 2));
		}
	}
}