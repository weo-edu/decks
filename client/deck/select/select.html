<template name='cards_select'>
	<div id='select-screen'>
		<div class='scene'>
			<div id='players-area'>
				<div id='me' class='user-1'>
					{{> user currentUser}}
				</div>

				{{#with deck}}
					{{> deck_view}}
					<!-- <h4 class='deck-title'>{{title}}</h4> -->
				{{/with}}

				<div id='opponent' class='user-2'>
					{{> user opponent}}
				</div>
			</div>
			<h1>SELECT YOUR OPPONENTS CARDS</h1>
			{{> card_selection cards}}
			<div class='play-button' rel='{{title}}'></div>
			<p id='chosen' >CHOSEN <span class='chosen'>0</span> OF {{nCards}}</p>
		</div>
		{{#ui "dialog"}}
			{{{ message }}}
		{{/ui}}
	</div>
</template>

<template name="await_select">
	Waiting for the other player to select your cards
</template>

<template name='card_selection'>
	<div id='card-grid'>
		<div class='shelf-wrapper'>
		{{#each this}}
			<div class='card' style='background-image: url({{graphic}}); background-color: {{deck.colorScheme.secondary}};'>
			</div>
		{{/each}}
		</div>
	</div>
	<div class='next'></div>
</template>

<template name='user'>
	<div class='user'>
		<div class='avatar-tmb' style='background-image: url({{avatar}})'></div>
		<p>{{username}}</p>
		{{#unless select}}
			{{> progress_bar}}
		{{/unless}}
	</div>
</template>

<template name='progress_bar'>
	<div class='bar'>
		{{#isolate}}
			<div class='fill' style="height:{{progress this}}"></div>
		{{/isolate}}
	</div>
</template>

<template name='max_cards'>
	<h2>Whoops!</h2>
	<p>You've already selected the maximum number of cards allowed per game.</p>
</template>