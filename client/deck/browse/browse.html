<template name="deck_browse">
	<div id='browse-screen'>
		<div class='select-placeholder'></div>
		<div class='browse'>
			<div class='awning'>
				BROWSE
			</div>
			{{#if currentUser}}
			{{#if currentUser.decks}}
			<div id='my-decks' class='shelf'>
				{{#iter mydecks}}
					{{> deck_view}}
				{{/iter}}
			</div>
			{{/if}}
			{{/if}}
			<div id='deck-grid' class='shelf'>
				<div class='shelf-wrapper'>
					{{> decks}}
				</div>
			</div>
		</div>
	</div>
</template>

<template name="decks">
		{{#iter decks}}
			<div id="deck-{{idx}}" class='deck-container'>
				{{> deck_view}}
				<h4 class='deck-title'>{{title}}</h4>
				<!-- <div class='shadow'></div> -->
			</div>
		{{/iter}}
		{{#ui "dialog"}}
			{{> deck_more}}
		{{/ui}}
</template>

<template name="deck_view">
	<div class='deck' style='background-image: url({{image}});'></div>
</template>


<template name="deck_more">
	{{#with card}}
		<h2>{{title}}</h2>
		<div class='more-info'>
			<div class='deck-image'>
				{{> deck_view}}
				<p> UNLOCKED 1 OF 10 </p>
			</div>
			<div class='deck-meta'>
				<div class='meta'>
					<h3>DESCRIPTION:</h3>
					<p>{{description}}</p>
					<div class='clear'></div>
				</div>
				<div class='meta'>
					<h3>Categories:</h3>
					<p>{{tags}}</p>
					<div class='clear'></div>
				</div>
				<div class='meta'>
					<h3>Grade Level:</h3>
					<p>{{gradePrior}}</p>
					<div class='clear'></div>
				</div>
				<div class='challenge-button'></div>
				<div class='play-button'></div>
			</div>
		</div>
	{{/with}}

</template>


<!-- 
	<svg style='height: 0; position: absolute;'>
		<defs>
		    <filter id="innerbevel" x0="-50%" y0="-50%" width="200%" height="200%">
				<feGaussianBlur in="SourceAlpha" stdDeviation="2" result="blur"/>
				<feOffset in='blur' dy="-5" dx="-5"/>
				<feComposite in2="SourceAlpha" operator="arithmetic"
						k2="-1" k3="1" result="hlDiff"/>
				<feFlood flood-color="black" flood-opacity=".6"/>
				<feComposite in2="hlDiff" operator="in"/>
				<feComposite in2="SourceGraphic" operator="over" result="withGlow"/>

				<feOffset in="blur" dy="5" dx="5"/>
				<feComposite in2="SourceAlpha" operator="arithmetic"
						k2="-1" k3="1" result="shadowDiff"/>
				<feFlood flood-color="black" flood-opacity=".6"/>
				<feComposite in2="shadowDiff" operator="in"/>
				<feComposite in2="withGlow" operator="over"/>
			</filter>
	  	</defs>
	</svg>

	<svg class="deck">
	<polygon points='8,3 130,0 140,7 0,10' fill='{{colorScheme.primary}}' stroke='{{colorScheme.secondary}}' stroke-width='1' filter='url(#innerbevel)' />
	<polygon points='0,10 140,7 130,172, 12,180' fill='{{colorScheme.primary}}' stroke='{{colorScheme.secondary}}' stroke-width='1' filter='url(#innerbevel)'/>
	<image x="0" y="0" width="150px" height="200px"
     xlink:href="/{{image}}"></image>
     <text x="30" y="50" width="48px" height="48px">{{title}}</text>
	</svg> -->