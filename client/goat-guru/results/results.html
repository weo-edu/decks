<template name='results_view'>
	<div id='results-view'>
		<h2>Winner: {{winner}}</h2>
		<div class='results-banners'>
			{{> results_table}}
			{{> errors}}
		</div>
		<div class='end-game-buttons'>
			<a href='/browse' class='end-game-button quit-button'>HOME</a>
			<div class='end-game-button rematch-button'>REMATCH</div>
		</div>
		{{> solution_dialog}}
	</div>
</template>

<template name='solution_dialog'>
	<div class='solution-dialog'>
	{{#ui "dialog"}}
		<div id='problem'>
			{{#markdown}}{{{html}}}{{/markdown}}<br/>
			{{solution}}
		</div>
	{{/ui}}
	</div>
</template>
		

<template name='results_table'>
	<table id='points-table' class='results-table'>
			<tr class='results-header'>
				<th></th>
				<th>{{currentUser.username}}</th>
				<th>{{opponentName}}</th>
			</tr>
			<tr>
				<td>
					<div class='bonus critical'></div>
					Critical:
				</td>
				<td>{{bonuses.me.critical}}</td>
				<td>{{bonuses.opponent.critical}}</td>
			</tr>
			<tr>
				<td>
					<div class='bonus time'></div>
					Multi:
				</td>
				<td>{{bonuses.me.multiplier}}</td>
				<td>{{bonuses.opponent.multiplier}}</td>
			</tr>
			<tr>
				<td>
					<div class='bonus points'></div>
					Points:
				</td>
				<td>{{bonuses.me.points}}</td>
				<td>{{bonuses.opponent.points}}</td>
			</tr>
			<tr>
				<td>
					<div class='bonus repeat'></div>
					Repeat:
				</td>
				<td>{{bonuses.me.repeat}}</td>
				<td>{{bonuses.opponent.repeat}}</td>
			</tr>
			<tr class='total'>
				{{#with results}}
					<td>Total:</td>
					<td>{{round me.points}}</td>
					<td>{{round opponent.points}}</td>
				{{/with}}
			</tr>
		</table>
</template>

<template name='errors'>
	<div id='errors-table' class='results-table'>
		<div class='results-header'>Errors</div>
		<div class='errors-table-inner'>
			{{> error_scroll}}		
		</div>
	</div>
</template>

<template name='error_scroll'>
	{{#each scrolls}}
		{{#unless correct}}
			<div class='error-scroll'>{{title}}</div>
		{{/unless}}
	{{/each}}
</template>



