<!-- Goat Browse -->

<template name='goat_browse'>
	<div class='friends-browse'>
		{{> buddies}}
		<div class='browse'>
			{{#each categories}}
				{{> category this}}
			{{/each}}
		</div>
	</div>
</template>

<template name="category">
	<div class='category'>
		<h2 class='category-title'>{{this}}</h2>
		<div class='inner-category'>
			{{#each tomes}}
				<div class='tome-container'>
					{{> tome_general}}
					<h5 class='tome-title'>{{title}}</h5>
				</div>
			{{/each}}
		</div>
	</div>
	<div class='shelf'></div>
</template>

<!-- Social Browse -->

<template name='friends_browse'>
	<div class='friends-browse'>
		{{> buddies}}
		<div class='browse'>
			{{> opponent_decks}}
		</div>
	</div>
</template>

<template name='buddies'>
	<div class='sidebar buddy-list'>
		<div class='sidebar-inner'>
			<h3>Friends</h3>
			<div class='shelf connect'></div>
			{{#each friends}}
			<a href='/user/{{username}}'>
				<div id='buddy-{{_id}}' class='buddy {{isConnected}} {{active}}'>
					<div id='avatar-{{idx}}' class='avatar avatar-thumb' style='background-image: url({{avatar}});'></div>
					<p>{{username}}</p>
				</div>
			{{/each}}
		</div>
	</div>
</template>

<template name='opponent_decks'>
	<div class='category'>
		{{#if isMe}}
			<div class='create-buttons'>
				<div id='create-scroll' class='create-button'>Create<br/>Scrolls</div>
				<div id='create-tome' class='create-button'>Create<br/>Tomes</div>
			</div>
		{{/if}}
		{{> browse_user user}}
		<div class='shelf'></div>
		{{> browse_tomes}}
	</div>
</template>

<template name='browse_user'>
	<div class='browse-user'>
		<img class='avatar' style='background-image: url({{avatar}});' />
		<h2 class='category-title'>{{username}}</h2>
		{{> level_progress}}
		{{> browse_filters}}
	</div>
</template>


<template name='browse_filters'>
	<div class='filters'>
		<div id="collected-toggle" class='browse-button {{collectedToggle}}'>Collected</div>
		<div id="played-toggle" class="browse-button {{playedToggle}}">Played</div>
		<div id="created-toggle" class='browse-button {{createdToggle}}'>Created</div>
		<div id="draft-toggle" class='browse-button {{draftToggle}}'>Drafts</div>
		<input class='browse-filter' type='text' placeholder='Filter' />
	</div>
</template>

<template name="browse_tomes">
	{{#if played}}
		{{> browse_tomes_played}}
	{{else}}
		{{> browse_created}}
	{{/if}}
</template>

<template name="browse_tomes_played">
	{{#each tomes}}
		<div class='tome-container stars'>
			{{> tome}}
			<div class='twist-stars twist-stars-{{UserDeck.mastery.rank}}'></div>
			<h5 class='tome-title'>{{Decks.title}}</h5>
		</div>
	{{/each}}
</template>

<template name="browse_created">
	{{#each items}}
		{{#if tome}}
			{{> tome_detailed}}
		{{else}}
			{{> scroll_detailed}}
		{{/if}}
	{{/each}}
</template>

<template name="tome_detailed">
	<div class='detailed-container'>
		<div class='tome-detailed-container'>
					{{> tome_general}}
		</div>
		<div class="item-detailed-info">
			<h4>{{title}}</h4>
			<p>{{description}}</p>
			<p>{{tags}}</p>
		</div>
	</div>
</template>

<template name="scroll_detailed">
	<div class='detailed-container'>
		<div class="scroll-detailed-container">
		</div>
		<div class="item-detailed-info">
				<h4>{{title}}</h4>
				<p>{{description}}</p>
				<p>{{tags}}</p>
		</div>
	</div>
</template>
