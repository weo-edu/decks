@import '../decks/client/mixins.styl';

/**
 * Tome Image
 */

tome(width = 181px, height = 195px) {
	cursor: pointer;
	position: relative;
	width: width;
	height: height;
	background: url('/app!decks/img/tome.png') no-repeat ;
	&:after {
		content: '';
		position: absolute;
		height: 100%;
		width: 10px;
		background: url("/app!decks/img/tome.png") no-repeat -189px 0px;
		left: 36px;
	}
	.tome-image {
		position: absolute;
		height: 132px;
		width: 109px;
		top: 18px;
		left: 40px;
		border-radius: 0 14px 14px 0;
		background-size: cover;
		background-position: center;
		box-shadow: inset -1px -1px 0 rgba(black, .5), inset 0px 1px 0 rgba(white, .5);
	}
	.tome-title {
		position: absolute;
		bottom: 0;
		width: 100%;
	}
}

scroll(width = 181px, height = 195px) {
	float: left;
	cursor: pointer;
	position: relative;
	width: width;
	height: height;
	background: url('/app!decks/img/scroll.png') center no-repeat;
	margin: 27px;
	.scroll-title {
		background: rgba(black, .5);
		border-radius: 15px 25px 18px 30px;
		font: 20px 'BleakChop';
		color: white;
		text-shadow: 1px 1px 0 rgba(0, 0, 0, .8);
		position: absolute;
		top: 80px;
		width: 171px;
		padding: 5px;
		text-align: center;
	}
}

.tome-container {
	tome();
	&.stars {
		height: 213px;
		margin-bottom: 15px;
		.tome-title {
			top: 3px;
			height: 1em;
		}
	}
}

.detailed-container {
	float: left;
	width: 360px;
	height: 200px;
	> div { 
		float: left;
	}
}

.tome-detailed-container {
	tome();
	float: left;
	// width: 460px;
}

.scroll-detailed-container {
	tome();
	float: left;
	background: url("/app!decks/img/scroll.png") no-repeat;
	&:after {
		background: transparent;
	}
}

.item-detailed-info {
	float: left;
	margin: 20px 0 0 -15px;
	width: 185px;
	font-family: 'Fresca';
	text-shadow: -1px -1px 1px rgba(white, .2);
	h4 {
		font-size: 20px;
		line-height: 20px;
		margin-bottom: 10px;
	}
}

.scroll-container {
	scroll();
}

.big-tome {
	tome(264px, 287px);
	cursor: default;
	background: url('/app!decks/img/big-tome.png') no-repeat;
	&:after {
		top: -1px;
		width: 16px;
		left: 39px;
		background: url("/app!decks/img/big-tome.png") no-repeat -295px 0px;	
	}
	.tome-image {
		height: 219px;
		width: 182px;
		top: 23px;
		left: 49px;
		border-radius: 0 24px 24px 0;
	}
}


/**
 * Tome Drop Down
 */

#tome-view {
	position: absolute;
	z-index: 2;
	width: 100%;
	height: 100%;
	// woodSides();
	&:before, &:after {
			top: 0px;
	}

	.practice {
		red-button();
		font-size: 30px;
		text-transform: uppercase;
		position: absolute;
		top: 15px;
		right: 20px;
		z-index: 4;
		&:active {
			top: 16px;
		}
	}

	.tome-center {
		position: relative;
		width: 737px;
		height: 100%;
		box-shadow: 0 0 20px rgba(black, 1);
		margin-left: 209px;
		padding: 0 17px;
		woodSides();
		background-image: url('/app!common/textures/handmadepaperA85.png');
		background-color: #999;
		z-index: 3;

		.tome-top-info {
			background-image: url('/app!common/textures/handmadepaper.png');
			padding-bottom: 10px;
		}
		
		.tome-center-inner {
			width: 100%;
			margin-left: -17px;
			padding: 0 17px;	
			height: 100%;
			overflow-y: auto;
			font: 16px 'Fresca';
			.title-container {
				clearfix();
			}
			h2 { 
				font-size: 60px;
				padding-top: 20px;
				margin-left: 20px;
				color: #4D4D4D;
				float: left;
			}

			.train-button-container {
				margin: 10px 15px 0 0;
				float: right;
				.mini-stars {
					margin: 5px auto 0;
				}
			}
			.train-button {
				red-button();
				margin: 0 0 -10px;
			}
			.difficulty-dropdown {
				height: 30px;
				width: 30px;
				position: absolute;
				right: 2px;
				top: 6px;
				background: url('/img/difficulty.png') -10px 0;
			}

			.tome-nav {
				clear: both;
				text-align: center;
				font: 20px/1.2em 'BleakChop';
				margin: 10px;
				clearfix();
				li{
					toggle-button();
					float: left;
					margin: 0 10px;
				}
			}
			center {
				width: 370px;
				margin: 0 auto;
			}
			.active-user {
				float: left;
			}
			h3 {
				font: 25px/45px 'Fresca';
				text-transform: uppercase;
				color: #333;
				text-shadow: 0 0 0;
			}
			.challenge-button {
				red-button();
				font-size: 30px;
			}
		}

		&:before, &:after {
			top: 0px;
		}

		.big-tome {
			float: left;
		}
		.big-tome-info {
			float: left;
			margin: 10px 20px 0 50px;
			width: 433px;
			> div {
				clearfix();
				margin: 15px 0;
			}
			h3 {
				font-size: 20px;
				float: left;
				width: 140px;
				margin-right: 15px;
				line-height: 18px;
			}
			p {
				line-height: 22px;
			}
		}

		.scroll-info-view {
			background: transparent;
			&:hover {
				background: rgba(black, .1);
			}
			.inner-scroll-info.info {
				width: 330px;
			}
		}	
	}
}

/**
 * Tome Stats View
 */

#tome-stats-header {
	clearfix();
	position: relative;
	.challenge-button {
		position: absolute;
		right: 0;
		top: 10px;
	}
	.avatar {
		margin: 15px;
		float: left;
	}
	h2 {
		margin: -10px 0 0 0 !important;
		float: none !important;
	}
	.tome-sub-nav {
		display: block;
		color: #FFF;
		clear: both;
		clearfix();
		font: 25px 'BleakChop';
		padding: 10px 10px;
		background: blue;
		text-shadow: 1px 1px 0 rgba(black, .5);
		li {
			opacity: .5;
			transition: opacity .2s;
			float: left;
			margin: 0 25px 0 0;
			cursor: pointer;
			&:active, &:hover, &.active {
				opacity: 1;
			}
		}
	}
}

.tome-stats {
	width: 100%;
	&.stats {
		td, th {
			width: 102px;
		}
	}
	&.history {
		margin-top: 0px;
		th {
			border-bottom: 0;
			background: #333;
		}
	}
	tr {
		table-rows();
	}
	td, th {
		padding: 10px;
	}
	// .table-header, .table-sub-header {
	// 	font: 22px 'BleakChop';
	// 	color: #FFF;
	// 	text-shadow: 1px 1px 0 rgba(black, .5);
	// }
	th {
		background: blue;
	}	
	.table-sub-header {
		font: 18px 'BleakChop';
		text-shadow: 0 0 0;
		color: #FFF;
		th {
			padding: 8px 10px;
			background: #444;
			text-shadow: 1px 1px 0 rgba(black, .5);
		}
	}
}

/**
 * Tome Friends
 */

#tome-challengers {
	.buddy {
		width: 100px;
		text-align: center;
		float: left;
		margin: 20px;
		cursor: pointer;
		.avatar { margin: 5px auto }

	}
	.disconnected, .busy {
		-webkit-filter: grayscale(100%);	
		opacity: .5;
	}

	.mini-stars {
		margin: 0 auto;
	}
}

.tome-tab {
	.table-sub-header {
		font: 18px 'BleakChop';
		text-shadow: 0 0 0;
		color: #FFF;
		background: #444;
		width: 100%;
		th {
			padding: 5px 0;
			width: 278px;
			&:first-child {
				padding-left: 10px;
				width: 449px;
			}
		}
	}

	.scroll-stat {
		height: 54px;
	}
}

.difficulty .dialog {
	width: 400px;
	h2 { background: #333 !important }
	.inner-dialog { 
		height: 120px;
		background: #666;
		.difficulty-buttons {
			width: 255px;
			margin: 0 auto;			
			> div {
				opacity: .92;
				transition: opacity .2s;
				cursor: pointer;
				text-align: center;
				color: #FFF;
				font-size: 20px;
				text-transform: uppercase;
				height: 63px;
				width: 63px
				line-height: 155px;
				margin: 0 10px 5px;
				float: left;
				background-image: url('/img/difficulty.png');
				background-position: 1px 0;
				&.medium {
					background-position: 145px 0;
				}
				&.hard {
					background-position: 63px 0;
				}
				&:hover {
					opacity: 1;
				}
			}
		}
	}
}

.mini-stars {
	background: url("/app!decks/img/mini-stars.png") 105px -1px;
	height: 20px;
	width: 61px;
}

.mini-stars- { height: 0; width: 0; &.show-zero { height: 20px; width: 61px; } }
.mini-stars-1 { background-position: 125px -1px }
.mini-stars-2 { background-position: 146px -1px }
.mini-stars-3, .mini-stars-4, .mini-stars-5 { background-position: 167px -1px }
