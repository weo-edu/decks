<template name="card_create">
	<div class="card-create-screen create-screen" defer='{{defer}}'>
		<h1 class="title">CARD CREATOR</h1>
			{{>step_container_1}}
	</div>
</template>

<template name="card_info_input">
	<div id="template-input" class="input-area {{isActive}}">
		<div class="field-wrapper">
			{{{form "card_input_info" template="card_form"}}}
		</div>
	</div>
</template>

<template name="card_form">
	{{{textarea "card_template" field="template" placeholder="{{a}} to make a variable" cls="field" label="Problem:"}}}
	{{{input "card_solution" field="solution" placeholder="a to use variable a" cls="field" label="Solution:"}}}
	{{>rules}}
</template>

<template name="card_look_input">
	<div class="input-area {{isActive}}">
		<div class="field-wrapper">
			{{{form "card_look_info" template="card_look"}}}
		</div>
		<div class="button" id="more-inputs"></div>
	</div>
</template>

<template name="card_look">
	{{{input "card_name" field="name" placeholder="name" cls="field"}}}
	{{{input "card_tags" field="tags" placeholder="tags" cls="field"}}}
	{{{input "card_load" type="file" placeholder="file" cls="field" label="Image:" multiple="true"}}}
	{{{input "card_image" field="image" cls="field upload_val"}}}
	{{{input "card_primary" field="primary_color" cls="field" label="Background Color:"}}}
</template>

<template name="color_picker">
	<div id="color-picker" class="input-area active">
		<div class="field-wrapper">
			<div class="field">
				<div class="text">Name:</div>
				<input id="name" class="instant_update" type="text" name="important" />
			</div>
			<div class="field">
				<div class="text">Tags:</div>
				<input type="text" class="instant_update" id="tags" name="tags"/>
			</div>
			<div class="field">
				<div class="text">Graphic*:</div>
				<div class="instant_update">
					<div id="upload" class="upload">Browse</div>	
					<input type="file" id="file" name="file" tabindex="-1" img='' style="display:none;" multiple />
				</div>
			</div>
			<div class="card-section">
				<div class="to-change">Background Color:</div>
				<input type="hidden" id="color-update" class="color-update color-change" name="main-color" value="#134256" />
				<input type="hidden" id="secondary-color"class="secondary-color color-change" name="sec-color" value="#132634"/>
				<div id="colorpicker"></div>
			</div>
		</div>
	</div>
</template>

<template name="template_preview">
	<div id="template-input" class="input-area">
		<div id="card-inner" class="display-inner field-wrapper">
		<div class="textarea-field field">
			<div class="text">Template*: </div>
			<textarea id="template" type="text" class="instant_update back-part validate" name="template" rows="4"/> 
		</div>
		<div class="field">
			<div class="text">Solution*: </div>
			<input class="instant_update back-part validate" id="solution" type="text" name="solution"/>
		</div>
		{{>rules}}
		<div id="bottom-button" class="field">
			<div id="create" class="upload">Create</div>
		</div>
		</div>
		<div class="button" id="prev-inputs"></div>
	</div>
</template>	

<template name="card_preview">
	<div class="deck-position">
		<div class="deck-shadow">
			{{>card_play}}
		</div>
	</div>
</template>



<template name="step_container_1">
		{{>card_info_input}}
		{{>card_look_input}}
		{{>card_preview}}
</template>

<template name="card_deck_list">
	<div class="display-inner">
		<h2>Select Deck to Add To</h2>
		Decks:
		{{#each deck}}
			<div class="deck-container">
				<div class="deck">
					<p>{{name}}</p>
					<img src="/{{graphic}}"/>
				</div>
			</div>
		{{/each}}	
	</div>
</template>


<template name="rules">
	<div class="field">
		<div id="add-rule" class="upload">Add Rule</div>
			<div id="rule-container">
				<ul id='rules'>
				</ul>
			</div>
	</div>
</template>


<template name="rule_input">
	<li id="rule-{{idx}}" class="rule-cont">
		<div class="field">
			<div class="text">rule-{{idx_adj}}:</div>
			<input id="rules-{{idx}}" class="instant_update rule-input"/>
		</div>
	</li>
</template>

<template name="front">
	{{#with card}}

	<div id="front"  style="background-color:{{primary_color}}">
		<div class="display-inner color-update">
			{{#if name}}
				<h2 class="secondary-color elem">{{name}}</h2>
				{{#if image}}
					<img src='/{{image}}'/>
				{{else}}
					<div class="fill elem"></div>
				{{/if}}
			{{else}}
				{{#if image}}
					<img src='/{{image}}' class="full elem"/>
				{{else}}
					<div class="full elem"></div>
				{{/if}}
			{{/if}}
			<div class="tags text elem">
				{{#each tags}}
					<li class="tags" style="display:inline;">{{this}}</li>   
				{{/each}}
			</div>
		</div>
	</div>
	{{/with}}
</template>

<template name="back">
	{{#with card}}
	<div id="back" style="background-color:{{primary_color}}">
		<div class="display-inner color-update">
			<div id="template-show" class='question text elem'>
				<div id="template-overflow" class='overflow'>
{{#markdown}}
{{question}}
{{/markdown}}
				</div>
			</div>
			<div class='solution text elem'>
				<div for='answer'>Solution: {{answer}}</div>
			</div>
		</div>
	</div>
	{{/with}}
</template>

<template name="card_play">
<div id="card" class="creator_card">
	{{>front}}
	{{>back}}
</div>
</template>