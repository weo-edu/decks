<template name="card_create">
	<div class="holder">
		<div class="step-nav-bar">
			<div class="step-nav active" id="step-1">
				Step 1
			</div>
			<div class="step-nav" id="step-2">
				Step 2
			</div>
			<div class="step-nav" id="step-3">
				Step 3
			</div>
		</div>
		<div class="wrapper">
			{{>step_container_1}}
			{{>step_container_2}}
			{{>step_container_3}}
		</div>
	</div>
	{{>section_title}}
</template>

<template name="section_title">
	<h2 id="card-title">{{title}}</h2>
</template>

<template name="template_preview">
	<div id="template-preview" class="display">
		<h2>Template Your Card</h2>
		<div class="display-inner">
		<div>
		<p>Name:</p><input id="name" class="instant_update" type="text" name="important" />
		</div>
		<h3>Problem</h3>
		<div>
		<p>Template: </p>
		<textarea id="template" type="text" class="instant_update" name="template" rows="4"/> 
		{{>template_errors}}
		</div>
		<div>
		<p>Solution: </p>
		<input class="instant_update" id="solution" type="text" name="solution"/>
		{{>solution_errors}}
		</div>
		{{>rules}}
		</div>
	</div>
</template>	

<template name="card_preview">
	<section id="flippable" class="display">
		<article id="box" class="color-update display">
			{{>card_play}}
		</article>
	</section>
</template>

<template name="color_picker">
	<div class="display color-picker">
		<h2 >Design Your Card</h2>
		<div class="card-section">
			<h3>Graphic: </h3>
			<input type="file" id="file" name="file" tabindex="-1" multiple />
		</div>
		<div class="card-section">
			<h3 class="to-change">Background Color:</h3>
			<input type="hidden" id="color-update" class="color-update" name="color-update" value="#123456" />
			<input type="hidden" id="secondary-color"class="secondary-color" name="secondary-color" value="#123456"/>
			<div id="colorpicker"></div>
		</div>
	</div>
</template>

<template name="step_container_1">
	<div class="create active" id="step-1-cont">
		{{>template_preview}}
		{{>card_preview}}
	</div>
</template>

<template name="step_container_2">
	<div class="create" id="step-2-cont">
		{{>color_picker}}
		{{>card_preview}}
	</div>
</template>

<template name="step_container_3">
	<div class = "create" id="step-3-cont">
		{{>deck_preview}}
		{{>card_preview}}
	</div>
</template>

<template name="deck_preview">
	<div class="deck-holder display">
		<div class="deck-preview">
			{{#each deck}}
				<div id="create-deck-container" class="deck-container">
					<div class="deck" id='{{_id}}'>
						<div class="front" id='card-image' style='background: url(/{{graphic}}); background-color:{{primary_color}}'> 
						</div>
						<div class='back'>
							<div class="deck-title">{{name}}</div>
							<div class="info">{{description}}</div>
							<div class='choose-deck'>Select</div>
						</div>
					</div>
				</div>
			{{/each}}
		</div>
	</div>
</template>

<template name="card_deck_list">
	<div class="display-inner">
		<h2>Select Deck to Add To</h2>
		Decks:
		{{#each deck}}
			<div class="deck-container">
				<div class="deck">
					<p>{{name}}</p>
					<img src="/{{graphic}}"/>
				</div>
			</div>
		{{/each}}	
	</div>
</template>

<template name="template_errors">
		<div id='template-error-message' class='error-message'>{{error}}</div>
</template>

<template name="solution_errors">
	<div id='solution-error-message' class='error-message'>{{error}}</div>
</template>

<template name="rules">
	<div id="add-rule" class="choose-deck">Add Rule</div>
	<div id="rule-container">
		<ul id='rules'>
		</ul>
	</div>
</template>


<template name="rule_input">
	<li id="rule-{{idx}}">
		<input id="rules-{{idx}}" class="instant_update rule-input"/>
	</li>
</template>


<template name="card_play">
{{#with card}}

<section id="front" class="side large-side color-update" style="background-color:{{main-color}}">
<div class="selectable">
<h2 class="secondary-color" style="background-color:{{sec-color}}">{{name}}</h2>
<div class="display-inner">
<div class="card">
{{#if graphic}}
<img src='/{{graphic}}' />
{{/if}}
<div class='question'>
{{#markdown}}
{{question}}
{{/markdown}}
</div>
<p>Solution:</p>
<div for='answer'>{{answer}}</div>
</div>
</div>
</div>
</section>
<section id="back" class="side large-side color-update">
</section>
<section id="top" class="side top-side color-update"></section>
<section id="bottom" class="side top-side color-update"></section>
<section id="left" class="side side-side color-update"></section>
<section id="right" class="side side-side color-update"></section>
{{/with}}
</template>