<template name="card_create">
	<div class="ipad">
		<h1 class="title">CARD CREATOR</h1>
			{{>step_container_1}}
			{{>step_container_3}}
	</div>
</template>

<template name="template_preview">
	<div id="template-input" class="input-area">
		<div id="card-inner" class="display-inner field-wrapper">
		<div class="field">
		<div class="text">Name:</div>
		<input id="name" class="instant_update" type="text" name="important" />
		</div>
		<div class="field">
		<div class="text">Template: </div>
		<textarea id="template" type="text" class="instant_update" name="template" rows="4"/> 
		{{>template_errors}}
		</div>
		<div class="field">
		<div class="text">Solution: </div>
		<input class="instant_update" id="solution" type="text" name="solution"/>
		{{>solution_errors}}
		</div>
		{{>rules}}
		</div>
	</div>
</template>	

<template name="card_preview">
	<div class="deck-position">
		<div class="deck-shadow">
			{{>card_play}}
		</div>
	</div>
</template>

<template name="color_picker">
	<div class="display color-picker">
		<h2 >Design Your Card</h2>
		<div class="card-section">
			<h3>Graphic: </h3>
			<input type="file" id="file" name="file" tabindex="-1" multiple />
		</div>
		<div class="card-section">
			<h3 class="to-change">Background Color:</h3>
			<input type="hidden" id="color-update" class="color-update" name="color-update" value="#123456" />
			<input type="hidden" id="secondary-color"class="secondary-color" name="secondary-color" value="#123456"/>
			<div id="colorpicker"></div>
		</div>
	</div>
</template>

<template name="step_container_1">
		{{>template_preview}}
		{{>card_preview}}
</template>

<template name="step_container_2">
	<div class="create" id="step-2-cont">
		{{>color_picker}}
	</div>
</template>

<template name="step_container_3">
	<div class = "create" id="step-3-cont">
		{{>deck_preview}}
	</div>
</template>

<template name="deck_preview">
	<div class="deck-holder display">
		<div class="deck-preview">
			{{#each deck}}
				<div id="create-deck-container" class="deck-container">
					<div class="deck" id='{{_id}}'>
						<div class="front" id='card-image' style='background: url(/{{graphic}}); background-color:{{primary_color}}'> 
						</div>
						<div class='back'>
							<div class="deck-title">{{name}}</div>
							<div class="info">{{description}}</div>
							<div class='choose-deck'>Select</div>
						</div>
					</div>
				</div>
			{{/each}}
		</div>
	</div>
</template>

<template name="card_deck_list">
	<div class="display-inner">
		<h2>Select Deck to Add To</h2>
		Decks:
		{{#each deck}}
			<div class="deck-container">
				<div class="deck">
					<p>{{name}}</p>
					<img src="/{{graphic}}"/>
				</div>
			</div>
		{{/each}}	
	</div>
</template>

<template name="template_errors">
		<div id='template-error-message' class='error-message'>{{error}}</div>
</template>

<template name="solution_errors">
	<div id='solution-error-message' class='error-message'>{{error}}</div>
</template>

<template name="rules">
	<div class="field">
		<div id="add-rule" class="upload">Add Rule</div>
			<div id="rule-container">
				<ul id='rules'>
				</ul>
			</div>
	</div>
</template>


<template name="rule_input">
	<li id="rule-{{idx}}" class="rule-cont">
		<div class="field">
			<div class="text">rule-{{idx_adj}}:</div>
			<input id="rules-{{idx}}" class="instant_update rule-input"/>
		</div>
	</li>
</template>


<template name="card_play">
{{#with card}}

<div id="front" class="side large-side color-update" style="background-color:{{main-color}}">
<div class="selectable">
<h2 class="secondary-color" style="background-color:{{sec-color}}">{{name}}</h2>
<div class="display-inner">
<div class="card">
{{#if graphic}}
<img src='/{{graphic}}' />
{{/if}}
<div class='question'>
{{#markdown}}
{{question}}
{{/markdown}}
</div>
<p>Solution:</p>
<div for='answer'>{{answer}}</div>
</div>
</div>
</div>
</div>
{{/with}}
</template>